{% extends 'base.html' %}
{% block title %} Tasks - TODO App {% endblock %}

{% block content %}

  <div class="task-box">
    <h2>Your Tasks</h2>
    <form action="{{ url_for('tasks.add_task') }}" method="post" class="task-form">
      <input type="text" name="title" id="" placeholder="New Task" required>
      <button type="submit" class="btn">Add Task</button>
    </form>
    {% if tasks %}
    <form action="{{ url_for('tasks.clear_tasks') }}" method="post" class="clear-form">
      <button type="submit" class="btn clear-btn">Clear All Tasks</button>
    </form>
    {% endif %}


  </div>

  <table class="task-table">
    <thead>
      <tr>
        <th>Task</th>
        <th>Status</th>
        <th>Change</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody>
      {% for task in tasks %}
      <tr>
        <td>{{ task.title }}</td>
        <td>{{ task.status }}</td>
        <td>
          <form action="{{ url_for('tasks.toggle_status', task_id=task.id) }}" method="post" class="update-form">
            <button type="submit" class="btn">Update</button>
          </form>
        </td>
        <td>
          <form action="{{ url_for('tasks.delete_task', task_id=task.id) }}" method="post" class="delete-form">
            <button type="submit">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}